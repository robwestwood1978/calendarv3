/* frontend/src/calendar-hotfix.css
   Scoped, aggressive reset for overlays in the calendar only. */

/* 1) Prevent stacking-context surprises */
.calendar-page,
.calendar-page .main,
.timewrap,
.grid-days,
.day-col,
.day-body {
  transform: none !important;
  filter: none !important;
  perspective: none !important;
  isolation: auto !important;
  position: relative;
}

/* 2) Nuke ANY overlay/pseudo inside events (the root cause) */
.timewrap .event,
.timewrap .event *,
.timewrap .event::before,
.timewrap .event::after,
.timewrap .event *::before,
.timewrap .event *::after {
  /* wipe paints applied by broad global selectors */
  background: none !important;
  box-shadow: none !important;
  filter: none !important;
  -webkit-backdrop-filter: none !important;
  backdrop-filter: none !important;
  content: none !important;           /* for pseudos */
  pointer-events: auto;               /* keep interactivity */
}

/* 3) Re-apply the eventâ€™s intended look (only on the root .event) */
.timewrap .event {
  background: #fff !important;
  border-radius: 12px !important;
  border-left-width: 3px !important;
  border-left-style: solid !important;
  /* the actual colour still comes from inline style in EventGrid */
  overflow: hidden;
  z-index: 1000 !important;
}

/* title + resize handle must sit above any stray paints */
.timewrap .event .evt-title,
.timewrap .event .evt-resize {
  position: relative;
  z-index: 2;
}

/* 4) Keep hour rows visible beneath events */
.day-body .hour-row {
  background: transparent !important;
  box-shadow: none !important;
}

/* 5) Make sure the modal always wins */
.modal-backdrop,
.modal-backdrop .modal {
  position: fixed !important;
  z-index: 2147483647 !important; /* max practical z-index */
}
